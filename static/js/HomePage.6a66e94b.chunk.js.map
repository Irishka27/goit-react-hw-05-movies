{"version":3,"file":"static/js/HomePage.6a66e94b.chunk.js","mappings":"uKACA,MAAyB,uB,SCEV,SAASA,EAAT,GAAiC,IAAfC,EAAc,EAAdA,WAC/B,OACE,mBAAQC,UAAWC,EAAcC,KAAK,SAASC,QAAS,kBAAMJ,KAA9D,yB,mECJJ,EAA0B,uBAA1B,EAAwD,oB,SCGzC,SAASK,EAAT,GAAsC,IAAZC,EAAW,EAAXA,QACvC,OACE,iBAAKC,KAAK,QAAQN,UAAWC,EAA7B,WACE,gBAAKM,IAAKC,EAAYC,MAAM,MAAMC,IAAI,sBACtC,cAAGC,KAAMN,EAASL,UAAWC,EAA7B,SACGI,S,yECEMO,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAgCC,GAAhC,2FAEUC,EAAS,CACbC,IAAI,qBACJC,OAAQ,CACNH,KAAAA,IALR,SAQ2BI,GAAAA,CAAMH,EAAQD,GARzC,uBAQYK,EARZ,EAQYA,KARZ,kBASWA,GATX,uCAWIC,QAAQC,IAAI,QAAS,CAAEC,MAAK,OAXhC,kBAYW,MAZX,gFAgBeC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAkCC,EAAOV,GAAzC,2FAEUC,EAAS,CACbC,IAAI,eACJC,OAAQ,CACNO,MAAAA,EACAV,KAAAA,IANR,SAS2BI,GAAAA,CAAMH,EAAQS,EAAOV,GAThD,uBASYK,EATZ,EASYA,KATZ,kBAUWA,GAVX,uCAYIC,QAAQC,IAAI,QAAS,CAAEC,MAAK,OAZhC,kBAaW,MAbX,gFAiBeG,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA4BC,GAA5B,2FAEUX,EAAS,CACbC,IAAI,SAAD,OAAWU,IAHpB,SAK2BR,GAAAA,CAAMH,EAAQW,GALzC,uBAKYP,EALZ,EAKYA,KALZ,kBAMWA,GANX,uCAQIC,QAAQC,IAAI,QAAS,CAAEC,MAAK,OARhC,kBASW,MATX,gFAaeK,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA2BD,GAA3B,2FAEUX,EAAS,CACbC,IAAI,SAAD,OAAWU,EAAX,aAHT,SAK2BR,GAAAA,CAAMH,EAAQW,GALzC,uBAKYP,EALZ,EAKYA,KALZ,kBAMWA,EAAKS,MANhB,uCAQIR,QAAQC,IAAI,QAAS,CAAEC,MAAK,OARhC,kBASW,MATX,gFAaeO,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA8BH,GAA9B,2FAEUX,EAAS,CACbC,IAAI,SAAD,OAAWU,EAAX,aAHT,SAK2BR,GAAAA,CAAMH,EAAQW,GALzC,uBAKYP,EALZ,EAKYA,KALZ,kBAMWA,EAAKW,SANhB,uCAQIV,QAAQC,IAAI,QAAS,CAAEC,MAAK,OARhC,kBASW,MATX,gFAjEAJ,IAAAA,SAAAA,QAHiB,gCAIjBA,IAAAA,SAAAA,OAAwB,CACtBa,QAJc,mCAKdC,SAAU,SA2EZ,IAAMC,EAAa,CACjBpB,iBA9EF,SAKgC,GAAjBA,OAAAA,EAAAA,MAAAA,KAAAA,YA0EbU,mBA1EF,SAgBkC,EAAnBA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,YA2DbE,aA3DF,SAiB4B,GAAbA,OAAAA,EAAAA,MAAAA,KAAAA,YA2CbE,YA3CF,SAa2B,GAAZA,OAAAA,EAAAA,MAAAA,KAAAA,YA+BbE,eA/BF,SAa8B,GAAfA,OAAAA,EAAAA,MAAAA,KAAAA,aAqBf,O,mBCpFA,IAPe,CACbK,KAAM,OACNC,QAAS,UACTC,SAAU,WACVC,SAAU,a,+JCHZ,EAAuB,uBAAvB,EAAsD,wBAAtD,EAA2F,6BAA3F,EAAqI,6BAArI,EAA2K,yBAA3K,EAAiN,6BAAjN,EAAqP,uB,mBCStO,SAASC,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAO3B,EAAP,KAAa8B,EAAb,KACA,GAA0BH,EAAAA,EAAAA,UAAS,GAAzBI,GAAV,eACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOnB,EAAP,KAAcwB,EAAd,KACA,GAA4BL,EAAAA,EAAAA,UAASM,EAAAA,EAAAA,MAArC,eAAOC,EAAP,KAAeC,EAAf,MAECC,EAAAA,EAAAA,YAAU,WACTD,EAAUF,EAAAA,EAAAA,SACVd,EAAAA,EAAAA,iBACoBnB,GACjBqC,MAAK,YAA+B,IAA5BrB,EAA2B,EAA3BA,QAASsB,EAAkB,EAAlBA,YAChBT,EAAUb,GACVe,EAAaO,GACbH,EAAUF,EAAAA,EAAAA,UACV3B,QAAQC,IAAIP,MAEbuC,OAAM,SAAA/B,GACLF,QAAQC,IAAIC,GACZwB,EAAS,2CACTG,EAAUF,EAAAA,EAAAA,eAEb,CAACjC,IAMJ,OACE,kBAAMb,UAAWqD,EAAjB,WACE,eAAIrD,UAAWqD,EAAf,4BAECN,IAAWD,EAAAA,EAAAA,UAAkB,SAACQ,EAAA,EAAD,IAE7BP,IAAWD,EAAAA,EAAAA,WAAmB,SAACS,EAAA,EAAD,CAAgBlD,QAASgB,EAAMhB,UAE7D0C,IAAWD,EAAAA,EAAAA,WACV,iCACE,eAAI9C,UAAWqD,EAAf,SACGZ,EAAOe,KAAI,SAAAC,GAAK,OACf,gBAAmBzD,UAAWqD,EAA9B,WACE,SAAC,KAAD,CACEK,GAAI,CACFC,SAAS,UAAD,OAAYF,EAAMhC,IAC1BmC,MAAO,CAAEC,KAAMvB,IAEjBtC,UAAWqD,EALb,UAOE,gBACE9C,IACEkD,EAAMK,YAAN,0CACuCL,EAAMK,aACzCC,EAENrD,IAAK+C,EAAMO,MACXhE,UAAWqD,OAGf,iBAAMrD,UAAWqD,EAAjB,SAAqCI,EAAMO,UAlBpCP,EAAMhC,UAsBvB,SAAC3B,EAAA,EAAD,CAAQC,WAtCU,WACpB4C,GAAQ,SAAA9B,GAAI,OAAIA,EAAM,gB","sources":["webpack://goit-react-hw-05-movies/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://goit-react-hw-05-movies/./src/components/Error/Error.module.css?141d","components/Error/Error.jsx","services/apiService.js","services/status.js","webpack://goit-react-hw-05-movies/./src/views/HomePage/HomePage.module.css?a66d","views/HomePage/HomePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__wiIYs\"};","import PropTypes from 'prop-types';\nimport style from './Button.module.css';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className={style.button} type=\"button\" onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Error_wrapper__AOSzo\",\"text\":\"Error_text__FJVYL\"};","import PropTypes from 'prop-types';\nimport errorImage from '../../img/no_results_found.png';\nimport style from'./Error.module.css';\n\nexport default function ErrorComponent({ message }) {\n  return (\n    <div role=\"alert\" className={style.wrapper}>\n      <img src={errorImage} width=\"400\" alt=\"no results found\" />\n      <p text={message} className={style.text}>\n        {message}\n      </p>\n    </div>\n  );\n}\n\nErrorComponent.propTypes = {\n  message: PropTypes.string,\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '92ffb34e08e714eb390805a25b0a06d3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nasync function getPopularMovies(page) {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n      params: {\n        page,\n      },\n    };\n    const { data } = await axios(config, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMoviesByKeyWord(query, page) {\n  try {\n    const config = {\n      url: `search/movie`,\n      params: {\n        query,\n        page,\n      },\n    };\n    const { data } = await axios(config, query, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieById(id) {\n  try {\n    const config = {\n      url: `movie/${id}`,\n    };\n    const { data } = await axios(config, id);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getCastInfo(id) {\n  try {\n    const config = {\n      url: `movie/${id}/credits`,\n    };\n    const { data } = await axios(config, id);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieReview(id) {\n  try {\n    const config = {\n      url: `movie/${id}/reviews`,\n    };\n    const { data } = await axios(config, id);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nconst apiService = {\n  getPopularMovies,\n  getMoviesByKeyWord,\n  getMovieById,\n  getCastInfo,\n  getMovieReview,\n};\n\nexport default apiService;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"HomePage_main__vd+D2\",\"title\":\"HomePage_title__rAQS9\",\"moviesList\":\"HomePage_moviesList__6ERtm\",\"moviesItem\":\"HomePage_moviesItem__AxeSC\",\"poster\":\"HomePage_poster__5r53E\",\"movieTitle\":\"HomePage_movieTitle__gpH+A\",\"link\":\"HomePage_link__CYdf4\"};","import { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport apiService from 'services/apiService';\nimport Status from 'services/status';\nimport Loader from 'components/Loader';\nimport ErrorComponent from 'components/Error';\nimport noPhoto from '../../img/no_image.jpg';\nimport styles from './HomePage.module.css';\nimport Button from 'components/Button';\n\nexport default function HomePage() {\n  const location = useLocation();\n  const [movies, setMovies] = useState(null);\n  const [page, setPage] = useState(1);\n  const [ , setTotalPage] = useState(0);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n   useEffect(() => {\n    setStatus(Status.PENDING);\n    apiService\n      .getPopularMovies(page)\n      .then(({ results, total_pages }) => {\n        setMovies(results);\n        setTotalPage(total_pages);\n        setStatus(Status.RESOLVED);\n        console.log(page);\n      })\n      .catch(error => {\n        console.log(error);\n        setError('Something went wrong. Please try again.');\n        setStatus(Status.REJECTED);\n      });\n  }, [page]);\n\n   const onHandlePage = () => {\n    setPage(page => page +1)\n  }\n\n  return (\n    <main className={styles.main}>\n      <h1 className={styles.title}>Trending today</h1>\n\n      {status === Status.PENDING && <Loader />}\n\n      {status === Status.REJECTED && <ErrorComponent message={error.message} />}\n\n      {status === Status.RESOLVED && (\n        <>\n          <ul className={styles.moviesList}>\n            {movies.map(movie => (\n              <li key={movie.id} className={styles.moviesItem}>\n                <Link\n                  to={{\n                    pathname: `movies/${movie.id}`,\n                    state: { from: location },\n                  }}\n                  className={styles.link}\n                >\n                  <img\n                    src={\n                      movie.poster_path\n                        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                        : noPhoto\n                    }\n                    alt={movie.title}\n                    className={styles.poster}\n                  />\n                </Link>\n                <span className={styles.movieTitle}>{movie.title}</span>\n              </li>\n            ))}\n          </ul>\n      <Button onLoadMore={onHandlePage} />\n        </>\n      )}\n    </main>\n  );\n}\n"],"names":["Button","onLoadMore","className","style","type","onClick","ErrorComponent","message","role","src","errorImage","width","alt","text","getPopularMovies","page","config","url","params","axios","data","console","log","error","getMoviesByKeyWord","query","getMovieById","id","getCastInfo","cast","getMovieReview","results","api_key","language","apiService","IDLE","PENDING","RESOLVED","REJECTED","HomePage","location","useLocation","useState","movies","setMovies","setPage","setTotalPage","setError","Status","status","setStatus","useEffect","then","total_pages","catch","styles","Loader","Error","map","movie","to","pathname","state","from","poster_path","noPhoto","title"],"sourceRoot":""}