"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[410],{7459:function(e,t,r){r.d(t,{Z:function(){return u}});var n="Button_button__wiIYs",a=r(184);function u(e){var t=e.onLoadMore;return(0,a.jsx)("button",{className:n,type:"button",onClick:function(){return t()},children:"Load more"})}},8314:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(8794),a="Error_wrapper__AOSzo",u="Error_text__FJVYL",s=r(184);function o(e){var t=e.message;return(0,s.jsxs)("div",{role:"alert",className:a,children:[(0,s.jsx)("img",{src:n,width:"400",alt:"no results found"}),(0,s.jsx)("p",{text:t,className:u,children:t})]})}},8183:function(e,t,r){var n=r(5861),a=r(7757),u=r.n(a),s=r(4569),o=r.n(s);function c(){return(c=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"trending/movie/day",params:{page:t}},e.next=4,o()(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function i(){return(i=(0,n.Z)(u().mark((function e(t,r){var n,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"search/movie",params:{query:t,page:r}},e.next=4,o()(n,t,r);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,o()(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,o()(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.cast);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},e.next=4,o()(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}o().defaults.baseURL="https://api.themoviedb.org/3/",o().defaults.params={api_key:"92ffb34e08e714eb390805a25b0a06d3",language:"en-US"};var h={getPopularMovies:function(e){return c.apply(this,arguments)},getMoviesByKeyWord:function(e,t){return i.apply(this,arguments)},getMovieById:function(e){return l.apply(this,arguments)},getCastInfo:function(e){return p.apply(this,arguments)},getMovieReview:function(e){return f.apply(this,arguments)}};t.Z=h},2019:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},3465:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(1413),a=r(885),u=r(2791),s=r(1523),o=r(8931),c=r(8183),i=r(2019),l=r(6718),p=r(7459),f=r(8314),h=r(9670),v=r(9579),d="SearchBar_form__gW7Gj",m="SearchBar_input__bIy50",_="SearchBar_button__T7RTc",g=r(184);function b(e){var t=e.onHandleSubmit,r=(0,u.useState)(""),n=(0,a.Z)(r,2),s=n[0],o=n[1];return(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s),o("")):v.Am.info("Please enter your query!")},className:d,children:[(0,g.jsx)("input",{type:"text",value:s,autoComplete:"off",autoFocus:!0,placeholder:"Enter movie name...",onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:m}),(0,g.jsx)("button",{type:"submit",className:_,children:"Search"})]})}var x="MoviesPage_moviesList__Z-6jD",Z="MoviesPage_moviesItem__3W6cK",E="MoviesPage_movieTitle__hHuja",y="MoviesPage_poster__wUT8q",w="MoviesPage_link__GMVyM";function j(){var e=(0,o.k6)(),t=(0,o.TH)(),r=(0,o.$B)().url,v=(0,u.useState)(""),d=(0,a.Z)(v,2),m=d[0],_=d[1],j=(0,u.useState)(0),S=(0,a.Z)(j,2)[1],N=(0,u.useState)(1),D=(0,a.Z)(N,2),L=D[0],M=D[1],k=(0,u.useState)(null),C=(0,a.Z)(k,2),I=C[0],P=C[1],R=(0,u.useState)(null),T=(0,a.Z)(R,2),B=T[0],q=T[1],G=(0,u.useState)(i.Z.IDLE),J=(0,a.Z)(G,2),O=J[0],V=J[1];(0,u.useEffect)((function(){if(""!==t.search){var e=new URLSearchParams(t.search).get("query");_(e,L)}}),[t.search,L]),(0,u.useEffect)((function(){m&&(V(i.Z.PENDING),c.Z.getMoviesByKeyWord(m,L).then((function(e){var t=e.results,r=e.total_pages;if(0===t.length)return q('No results to show for "'.concat(m,'!"')),void V(i.Z.REJECTED);P(t),S(r),V(i.Z.RESOLVED)})).catch((function(e){console.log(e),q(e.message),V(i.Z.REJECTED)})))}),[m,L]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b,{onHandleSubmit:function(r){m!==r&&(_(r),P(null),q(null),V(i.Z.IDLE),e.push((0,n.Z)((0,n.Z)({},t),{},{search:"query=".concat(r,"&page=1")})))}}),O===i.Z.PENDING&&(0,g.jsx)(l.Z,{}),O===i.Z.REJECTED&&(0,g.jsx)(f.Z,{message:B}),O===i.Z.RESOLVED&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("ul",{className:x,children:I.map((function(e){return(0,g.jsxs)("li",{className:Z,children:[(0,g.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):h,alt:e.title,width:"320",className:y}),(0,g.jsx)(s.OL,{to:{pathname:"".concat(r,"/").concat(e.id),state:{from:{location:t}}},className:w,children:(0,g.jsx)("p",{className:E,children:e.title})})]},e.id)}))}),(0,g.jsx)(p.Z,{onLoadMore:function(){M((function(e){return e+1}))}})]})]})}},9670:function(e,t,r){e.exports=r.p+"static/media/no_image.d94858f9ed2950bcb958.jpg"},8794:function(e,t,r){e.exports=r.p+"static/media/no_results_found.98bc826327ced82ba54b.png"}}]);
//# sourceMappingURL=MoviesPage.29df6f8f.chunk.js.map