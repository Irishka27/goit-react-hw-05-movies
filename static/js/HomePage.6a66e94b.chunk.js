"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[460],{7459:function(e,r,t){t.d(r,{Z:function(){return s}});var n="Button_button__wiIYs",a=t(184);function s(e){var r=e.onLoadMore;return(0,a.jsx)("button",{className:n,type:"button",onClick:function(){return r()},children:"Load more"})}},8314:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(8794),a="Error_wrapper__AOSzo",s="Error_text__FJVYL",o=t(184);function u(e){var r=e.message;return(0,o.jsxs)("div",{role:"alert",className:a,children:[(0,o.jsx)("img",{src:n,width:"400",alt:"no results found"}),(0,o.jsx)("p",{text:r,className:s,children:r})]})}},8183:function(e,r,t){var n=t(5861),a=t(7757),s=t.n(a),o=t(4569),u=t.n(o);function c(){return(c=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/day",params:{page:r}},e.next=4,u()(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function i(){return(i=(0,n.Z)(s().mark((function e(r,t){var n,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"search/movie",params:{query:r,page:t}},e.next=4,u()(n,r,t);case 4:return a=e.sent,o=a.data,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"movie/".concat(r)},e.next=4,u()(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"movie/".concat(r,"/credits")},e.next=4,u()(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.cast);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"movie/".concat(r,"/reviews")},e.next=4,u()(t,r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}u().defaults.baseURL="https://api.themoviedb.org/3/",u().defaults.params={api_key:"92ffb34e08e714eb390805a25b0a06d3",language:"en-US"};var m={getPopularMovies:function(e){return c.apply(this,arguments)},getMoviesByKeyWord:function(e,r){return i.apply(this,arguments)},getMovieById:function(e){return l.apply(this,arguments)},getCastInfo:function(e){return p.apply(this,arguments)},getMovieReview:function(e){return f.apply(this,arguments)}};r.Z=m},2019:function(e,r){r.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},1584:function(e,r,t){t.r(r),t.d(r,{default:function(){return E}});var n=t(885),a=t(2791),s=t(1523),o=t(8931),u=t(8183),c=t(2019),i=t(6718),l=t(8314),p=t(9670),f="HomePage_main__vd+D2",m="HomePage_title__rAQS9",d="HomePage_moviesList__6ERtm",v="HomePage_moviesItem__AxeSC",h="HomePage_poster__5r53E",g="HomePage_movieTitle__gpH+A",_="HomePage_link__CYdf4",x=t(7459),b=t(184);function E(){var e=(0,o.TH)(),r=(0,a.useState)(null),t=(0,n.Z)(r,2),E=t[0],Z=t[1],w=(0,a.useState)(1),y=(0,n.Z)(w,2),j=y[0],N=y[1],P=(0,a.useState)(0),S=(0,n.Z)(P,2)[1],k=(0,a.useState)(null),D=(0,n.Z)(k,2),L=D[0],C=D[1],H=(0,a.useState)(c.Z.IDLE),I=(0,n.Z)(H,2),R=I[0],M=I[1];(0,a.useEffect)((function(){M(c.Z.PENDING),u.Z.getPopularMovies(j).then((function(e){var r=e.results,t=e.total_pages;Z(r),S(t),M(c.Z.RESOLVED),console.log(j)})).catch((function(e){console.log(e),C("Something went wrong. Please try again."),M(c.Z.REJECTED)}))}),[j]);return(0,b.jsxs)("main",{className:f,children:[(0,b.jsx)("h1",{className:m,children:"Trending today"}),R===c.Z.PENDING&&(0,b.jsx)(i.Z,{}),R===c.Z.REJECTED&&(0,b.jsx)(l.Z,{message:L.message}),R===c.Z.RESOLVED&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("ul",{className:d,children:E.map((function(r){return(0,b.jsxs)("li",{className:v,children:[(0,b.jsx)(s.rU,{to:{pathname:"movies/".concat(r.id),state:{from:e}},className:_,children:(0,b.jsx)("img",{src:r.poster_path?"https://image.tmdb.org/t/p/w500/".concat(r.poster_path):p,alt:r.title,className:h})}),(0,b.jsx)("span",{className:g,children:r.title})]},r.id)}))}),(0,b.jsx)(x.Z,{onLoadMore:function(){N((function(e){return e+1}))}})]})]})}},9670:function(e,r,t){e.exports=t.p+"static/media/no_image.d94858f9ed2950bcb958.jpg"},8794:function(e,r,t){e.exports=t.p+"static/media/no_results_found.98bc826327ced82ba54b.png"}}]);
//# sourceMappingURL=HomePage.6a66e94b.chunk.js.map